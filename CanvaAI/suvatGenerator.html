<!--
 * SUVAT Equation Question Generator
 * Author: Mike Poirier
 * Date: September 10, 2025
 * Generated with: Google Gemini
 *
 * Prompt Summary:
 * This script was generated based on a series of prompts. The initial request was to create
 * a SUVAT equation question generator aligned with the DP Physics FE2025 curriculum, featuring
 * dynamic question generation, a solutions toggle, and LaTeX rendering. Subsequent prompts
 * introduced, refined, debugged, and later removed a "Canadian Hockey Mode" with themed 
 * questions and a dynamic, color-changing UI.
 *
 * License:
 * This work is licensed under the Creative Commons Attribution 4.0 International License.
 * To view a copy of this license, visit http://creativecommons.org/licenses/by/4.0/
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUVAT Equation Question Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha34-n8MVd4RsNIU0KOVEMmg9rtabAXGök+wgSOlvASbe2mQTpaUSnvkNdLQhHYYHFA7w" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha34-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGqsACNwOZSOT" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha34-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .katex {
            font-size: 1.1em;
        }

    </style>
</head>
<body class="bg-gray-900 text-gray-200 antialiased">

    <div class="container mx-auto px-4 py-8 max-w-4xl">

        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-2">SUVAT Equation Question Generator</h1>
            <p class="text-lg text-gray-400">DP Physics FE2025 - Topic A1 Kinematics</p>
        </header>

        <!-- Control Buttons -->
        <div class="flex flex-col items-center justify-center space-y-4 mb-8">
            <div class="flex justify-center space-x-4">
                <button id="generate-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
                    Generate New Questions
                </button>
                <button id="solutions-btn" class="bg-gray-600 hover:bg-gray-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50">
                    Show Solutions
                </button>
            </div>
        </div>

        <!-- Questions Container -->
        <div id="questions-container" class="space-y-6">
            <!-- Questions will be dynamically inserted here -->
        </div>

        <!-- Solutions Container -->
        <div id="solutions-container" class="hidden mt-10">
            <h2 class="text-3xl font-bold text-center mb-6 text-white border-b-2 border-gray-700 pb-2">Solutions</h2>
            <div id="solutions-content" class="space-y-6">
                <!-- Solutions will be dynamically inserted here -->
            </div>
        </div>

    </div>

    <footer class="text-center py-6 text-gray-500 text-sm">
        <p>
            Created by <a href="https://github.com/mvpoirier/" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:underline">Mike Poirier</a> using Google Gemini.
        </p>
        <p class="mt-2">
            This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:underline">Creative Commons Attribution 4.0 International License</a>.
        </p>
    </footer>

    <script>
        const generateBtn = document.getElementById('generate-btn');
        const solutionsBtn = document.getElementById('solutions-btn');
        const questionsContainer = document.getElementById('questions-container');
        const solutionsContainer = document.getElementById('solutions-container');
        const solutionsContent = document.getElementById('solutions-content');

        let currentQuestions = [];

        // --- UTILITY FUNCTIONS ---
        const getRandom = (min, max, decimals = 1) => {
            return parseFloat((Math.random() * (max - min) + min).toFixed(decimals));
        };
        
        // Fisher-Yates shuffle algorithm
        const shuffleArray = (array) => {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        };

        // --- QUESTION GENERATORS ---

        // Generator for: v = u + at
        const generate_v_eq_u_plus_at = () => {
            const u = getRandom(1, 20);
            const a = getRandom(1, 5);
            const t = getRandom(2, 10);
            const v = u + a * t;
            
            const questionText = `A car starts with an initial velocity of <strong>${u} m/s</strong> and accelerates uniformly at <strong>${a} m/s²</strong> for <strong>${t} seconds</strong>. What is its final velocity?`;

            return {
                question: questionText,
                solution: `
                    <p class="mb-2"><strong>Known variables:</strong></p>
                    <p>$u = ${u} \\, \\text{m/s}$, $a = ${a} \\, \\text{m/s}^2$, $t = ${t} \\, \\text{s}$</p>
                    <p class="mt-4 mb-2"><strong>Equation:</strong></p>
                    <p>$v = u + at$</p>
                    <p class="mt-4 mb-2"><strong>Calculation:</strong></p>
                    <p>$v = ${u} + (${a})(${t})$</p>
                    <p class="font-bold text-lg mt-2">$v = ${v.toFixed(2)} \\, \\text{m/s}$</p>
                `
            };
        };

        // Generator for: s = ut + ½at²
        const generate_s_eq_ut_plus_half_at2 = () => {
            const u = getRandom(0, 15);
            const a = getRandom(1, 4);
            const t = getRandom(3, 12);
            const s = (u * t) + (0.5 * a * t * t);

            const questionText = `A cyclist starts from an initial speed of <strong>${u} m/s</strong> and accelerates uniformly at <strong>${a} m/s²</strong>. How far have they travelled in <strong>${t} seconds</strong>?`;

            return {
                question: questionText,
                solution: `
                    <p class="mb-2"><strong>Known variables:</strong></p>
                    <p>$u = ${u} \\, \\text{m/s}$, $a = ${a} \\, \\text{m/s}^2$, $t = ${t} \\, \\text{s}$</p>
                    <p class="mt-4 mb-2"><strong>Equation:</strong></p>
                    <p>$s = ut + \\frac{1}{2}at^2$</p>
                    <p class="mt-4 mb-2"><strong>Calculation:</strong></p>
                    <p>$s = (${u})(${t}) + \\frac{1}{2}(${a})(${t})^2$</p>
                    <p class="font-bold text-lg mt-2">$s = ${s.toFixed(2)} \\, \\text{m}$</p>
                `
            };
        };

        // Generator for: v² = u² + 2as
        const generate_v2_eq_u2_plus_2as = () => {
            const u = getRandom(5, 25);
            const a = getRandom(1, 3);
            const s = getRandom(10, 100);
            const v = Math.sqrt(u * u + 2 * a * s);

            const questionText = `A train moving at <strong>${u} m/s</strong> accelerates at <strong>${a} m/s²</strong> over a distance of <strong>${s} m</strong>. Calculate its final velocity.`;
            
            return {
                question: questionText,
                solution: `
                    <p class="mb-2"><strong>Known variables:</strong></p>
                    <p>$u = ${u} \\, \\text{m/s}$, $a = ${a} \\, \\text{m/s}^2$, $s = ${s} \\, \\text{m}$</p>
                    <p class="mt-4 mb-2"><strong>Equation:</strong></p>
                    <p>$v^2 = u^2 + 2as \\implies v = \\sqrt{u^2 + 2as}$</p>
                    <p class="mt-4 mb-2"><strong>Calculation:</strong></p>
                    <p>$v = \\sqrt{(${u})^2 + 2(${a})(${s})}$</p>
                    <p class="font-bold text-lg mt-2">$v = ${v.toFixed(2)} \\, \\text{m/s}$</p>
                `
            };
        };

        // Generator for: s = ½(u+v)t
        const generate_s_eq_half_uv_t = () => {
            const u = getRandom(2, 10);
            const v = getRandom(11, 30);
            const t = getRandom(5, 15);
            const s = ((u + v) / 2) * t;

            const questionText = `A runner's speed changes uniformly from <strong>${u} m/s</strong> to <strong>${v} m/s</strong> in <strong>${t} seconds</strong>. What is the total distance covered in this time?`;

            return {
                question: questionText,
                solution: `
                    <p class="mb-2"><strong>Known variables:</strong></p>
                    <p>$u = ${u} \\, \\text{m/s}$, $v = ${v} \\, \\text{m/s}$, $t = ${t} \\, \\text{s}$</p>
                    <p class="mt-4 mb-2"><strong>Equation:</strong></p>
                    <p>$s = \\frac{(u+v)}{2}t$</p>
                    <p class="mt-4 mb-2"><strong>Calculation:</strong></p>
                    <p>$s = \\frac{(${u}+${v})}{2}(${t})$</p>
                    <p class="font-bold text-lg mt-2">$s = ${s.toFixed(2)} \\, \\text{m}$</p>
                `
            };
        };
        
        // Generator for: s = vt - ½at²
        const generate_s_eq_vt_minus_half_at2 = () => {
            const v = getRandom(20, 40);
            const a = getRandom(-4, -1); // Deceleration
            const t = getRandom(3, 8);
            const s = (v * t) - (0.5 * a * t * t);

            const questionText = `An object is moving with a final velocity of <strong>${v} m/s</strong> after decelerating at <strong>${Math.abs(a)} m/s²</strong> for <strong>${t} seconds</strong>. What displacement did it cover in that time?`;

            return {
                question: questionText,
                solution: `
                    <p class="mb-2"><strong>Known variables:</strong></p>
                    <p>$v = ${v} \\, \\text{m/s}$, $a = ${a} \\, \\text{m/s}^2$, $t = ${t} \\, \\text{s}$</p>
                    <p class="mt-4 mb-2"><strong>Equation:</strong></p>
                    <p>$s = vt - \\frac{1}{2}at^2$</p>
                    <p class="mt-4 mb-2"><strong>Calculation:</strong></p>
                    <p>$s = (${v})(${t}) - \\frac{1}{2}(${a})(${t})^2$</p>
                    <p class="font-bold text-lg mt-2">$s = ${s.toFixed(2)} \\, \\text{m}$</p>
                `
            };
        };

        // Generator for free fall
        const generate_free_fall = () => {
            const g = 9.8;
            const u = 0; // Dropped from rest
            const t = getRandom(1, 5);
            const s = (0.5 * g * t * t);

            const questionText = `A stone is dropped from rest from the top of a cliff. Assuming negligible air resistance and taking the acceleration due to gravity, g, as <strong>${g} m/s²</strong>, how far does it fall in <strong>${t} seconds</strong>?`;

            return {
                question: questionText,
                solution: `
                    <p class="mb-2"><strong>Known variables:</strong></p>
                    <p>$u = 0 \\, \\text{m/s}$ (from rest), $a = g = ${g} \\, \\text{m/s}^2$, $t = ${t} \\, \\text{s}$</p>
                    <p class="mt-4 mb-2"><strong>Equation:</strong></p>
                    <p>$s = ut + \\frac{1}{2}at^2$</p>
                    <p class="mt-4 mb-2"><strong>Calculation:</strong></p>
                    <p>$s = (0)(${t}) + \\frac{1}{2}(${g})(${t})^2$</p>
                    <p class="font-bold text-lg mt-2">$s = ${s.toFixed(2)} \\, \\text{m}$</p>
                `
            };
        };

        const questionGenerators = [
            generate_v_eq_u_plus_at,
            generate_s_eq_ut_plus_half_at2,
            generate_v2_eq_u2_plus_2as,
            generate_s_eq_half_uv_t,
            generate_s_eq_vt_minus_half_at2
        ];
        
        // --- CORE LOGIC ---
        const generateQuestions = () => {
            currentQuestions = [];
            questionsContainer.innerHTML = '';
            solutionsContent.innerHTML = '';
            solutionsContainer.classList.add('hidden');
            solutionsBtn.textContent = 'Show Solutions';

            const shuffledGenerators = shuffleArray([...questionGenerators]);
            const finalGenerators = [...shuffledGenerators, generate_free_fall];

            finalGenerators.forEach((generator, index) => {
                const q = generator();
                currentQuestions.push(q);

                const questionCard = document.createElement('div');
                questionCard.className = 'bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700';
                questionCard.innerHTML = `<p class="text-lg leading-relaxed"><strong class="text-blue-400">Q${index + 1}:</strong> ${q.question}</p>`;
                questionsContainer.appendChild(questionCard);
            });
        };

        const toggleSolutions = () => {
            const isHidden = solutionsContainer.classList.contains('hidden');

            if (isHidden) {
                solutionsContent.innerHTML = ''; // Clear previous solutions
                currentQuestions.forEach((q, index) => {
                    const solutionCard = document.createElement('div');
                    solutionCard.className = 'bg-gray-800 p-6 rounded-lg shadow-lg border border-gray-700';
                    solutionCard.innerHTML = `<h3 class="text-xl font-bold mb-4 text-blue-400">Solution for Q${index + 1}</h3>${q.solution}`;
                    solutionsContent.appendChild(solutionCard);
                });
                
                // Render LaTeX math
                renderMathInElement(solutionsContent, {
                    delimiters: [
                        {left: '$$', right: '$$', display: true},
                        {left: '$', right: '$', display: false},
                        {left: '\\(', right: '\\)', display: false},
                        {left: '\\[', right: '\\]', display: true}
                    ],
                    throwOnError : false
                });

                solutionsContainer.classList.remove('hidden');
                solutionsBtn.textContent = 'Hide Solutions';
                solutionsBtn.classList.remove('bg-gray-600', 'hover:bg-gray-700');
                solutionsBtn.classList.add('bg-red-600', 'hover:bg-red-700');

            } else {
                solutionsContainer.classList.add('hidden');
                solutionsBtn.textContent = 'Show Solutions';
                solutionsBtn.classList.remove('bg-red-600', 'hover:bg-red-700');
                solutionsBtn.classList.add('bg-gray-600', 'hover:bg-gray-700');
            }
        };

        // --- EVENT LISTENERS ---
        generateBtn.addEventListener('click', generateQuestions);
        solutionsBtn.addEventListener('click', toggleSolutions);

        // --- INITIALIZATION ---
        window.onload = generateQuestions;
    </script>

</body>
</html>
